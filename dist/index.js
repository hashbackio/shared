'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountSettingSchema = exports.WatsonClassifierSchema = exports.AccountSettingPostBodySchema = exports.ZenDeskIntegrationSchema = exports.AccountIntegrationSchema = exports.TwitterFeedbackWithMaybeAnalysisSchema = exports.TwitterFeedbackSchema = exports.ZenDeskTicketWithMaybeAnalysisSchema = exports.ZenDeskTicketSchema = exports.ZenDeskTicketPostBodySchema = exports.EmailFeedbackWithMaybeAnalysisSchema = exports.EmailFeedbackSchema = exports.EmailFeedbackPostBodySchema = exports.WatsonClassifyResponseSchema = exports.FeedbackAnalysisSchema = exports.UserSchema = exports.EmailUserSchema = exports.TwitterUserSchema = exports.ZenDeskUserSchema = exports.SentimentAnalysisResponseSchema = exports.CategorySchema = exports.SentimentSchema = exports.TextSpanSchema = exports.SupportedLanguageSchema = exports.getDynamoDbGlobalArn = exports.getTableNamePrefix = exports.getAnalyzeFeedbackTopicName = exports.getAnalyzeFeedbackSNS = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

// https://github.com/benmosher/eslint-plugin-import/issues/921
/* eslint-disable import/named */


var _Arns = require('./Arns');

Object.defineProperty(exports, 'getAnalyzeFeedbackSNS', {
  enumerable: true,
  get: function get() {
    return _Arns.getAnalyzeFeedbackSNS;
  }
});
Object.defineProperty(exports, 'getAnalyzeFeedbackTopicName', {
  enumerable: true,
  get: function get() {
    return _Arns.getAnalyzeFeedbackTopicName;
  }
});
Object.defineProperty(exports, 'getTableNamePrefix', {
  enumerable: true,
  get: function get() {
    return _Arns.getTableNamePrefix;
  }
});
Object.defineProperty(exports, 'getDynamoDbGlobalArn', {
  enumerable: true,
  get: function get() {
    return _Arns.getDynamoDbGlobalArn;
  }
});

var _joiBrowser = require('joi-browser');

var _joiBrowser2 = _interopRequireDefault(_joiBrowser);

var _uuid = require('uuid');

var _uuid2 = _interopRequireDefault(_uuid);

var _YearMonthBucket = require('./YearMonthBucket');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ModelSavedFieldsSchema = {
  accountId: _joiBrowser2.default.string().required(),
  createdAt: _joiBrowser2.default.string().isoDate().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  updatedAt: _joiBrowser2.default.string().isoDate()
};

var SupportedLanguageSchema = exports.SupportedLanguageSchema = _joiBrowser2.default.string().valid(['zh', 'zh-Hant', 'en', 'fr', 'de', 'it', 'ja', 'ko', 'pt', 'es']);

var TextSpanSchema = exports.TextSpanSchema = _joiBrowser2.default.object({
  beginOffset: _joiBrowser2.default.number().min(-1).required(),
  content: _joiBrowser2.default.string().required()
}).unknown();

var SentimentSchema = exports.SentimentSchema = _joiBrowser2.default.object({
  negative: _joiBrowser2.default.number().min(0).max(1).required(),
  positive: _joiBrowser2.default.number().min(0).max(1).required()
}).unknown();

var CategorySchema = exports.CategorySchema = _joiBrowser2.default.object({
  categoryName: _joiBrowser2.default.string().required(),
  confidence: _joiBrowser2.default.number().min(0).max(1).required()
}).unknown();

var SentimentAnalysisResponseSchema = exports.SentimentAnalysisResponseSchema = _joiBrowser2.default.object({
  documentSentiment: SentimentSchema.required(),
  language: SupportedLanguageSchema.required()
}).unknown();

var ZenDeskUserSchema = exports.ZenDeskUserSchema = _joiBrowser2.default.object({
  email: _joiBrowser2.default.string().email(),
  id: _joiBrowser2.default.number().min(0).required(),
  name: _joiBrowser2.default.string().required()
}).unknown();

var TwitterUserSchema = exports.TwitterUserSchema = _joiBrowser2.default.object({
  avatarUrl: _joiBrowser2.default.string().uri().required(),
  id: _joiBrowser2.default.string().required(),
  username: _joiBrowser2.default.string().required()
}).unknown();

var EmailUserSchema = exports.EmailUserSchema = _joiBrowser2.default.object({
  id: _joiBrowser2.default.string().email().required()
}).unknown();

var UserSchema = exports.UserSchema = _joiBrowser2.default.compile([TwitterUserSchema, EmailUserSchema, ZenDeskUserSchema]);

var FeedbackAnalysisSchema = exports.FeedbackAnalysisSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  contentSentiment: SentimentSchema.required(),
  documentCategorization: _joiBrowser2.default.array().items(CategorySchema).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  feedbackId: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  feedbackType: _joiBrowser2.default.string().allow(['email', 'twitter', 'zenDesk']).required(),
  topDocumentCategories: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  user: UserSchema,
  userId: _joiBrowser2.default.string().required()
})).unknown().required();

var WatsonClassifyResponseSchema = exports.WatsonClassifyResponseSchema = _joiBrowser2.default.object({
  classes: _joiBrowser2.default.array().items(_joiBrowser2.default.object({
    class_name: _joiBrowser2.default.string().required(),
    confidence: _joiBrowser2.default.number().min(0).max(1).required()
  }).unknown()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  classifier_id: _joiBrowser2.default.string().required(),
  text: _joiBrowser2.default.string().required(),
  top_class: _joiBrowser2.default.string().required(),
  url: _joiBrowser2.default.string().uri({ allowRelative: true }).required()
});

var EmailFeedbackPostBodySchema = exports.EmailFeedbackPostBodySchema = _joiBrowser2.default.object({
  content: _joiBrowser2.default.string().required(),
  emailSentDate: _joiBrowser2.default.string().isoDate().required(),
  from: _joiBrowser2.default.string().email().required(),
  subject: _joiBrowser2.default.string().required(),
  to: _joiBrowser2.default.string().email().required()
}).unknown().required();

var EmailFeedbackSchema = exports.EmailFeedbackSchema = EmailFeedbackPostBodySchema.keys(_extends({}, ModelSavedFieldsSchema)).unknown().required();

var EmailFeedbackWithMaybeAnalysisSchema = exports.EmailFeedbackWithMaybeAnalysisSchema = EmailFeedbackSchema.keys({
  analysis: FeedbackAnalysisSchema
}).unknown().required();

var ZenDeskTicketPostBodySchema = exports.ZenDeskTicketPostBodySchema = _joiBrowser2.default.object({
  description: _joiBrowser2.default.string().required(),
  ticketId: _joiBrowser2.default.number().required(),
  title: _joiBrowser2.default.string().required(),
  user: ZenDeskUserSchema.required()
}).unknown().required();

var ZenDeskTicketSchema = exports.ZenDeskTicketSchema = ZenDeskTicketPostBodySchema.keys(_extends({}, ModelSavedFieldsSchema)).unknown().required();

var ZenDeskTicketWithMaybeAnalysisSchema = exports.ZenDeskTicketWithMaybeAnalysisSchema = ZenDeskUserSchema.keys({
  analysis: FeedbackAnalysisSchema
}).unknown().required();

var TwitterFeedbackSchema = exports.TwitterFeedbackSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  statusId: _joiBrowser2.default.string().required(),
  user: TwitterUserSchema.required()
})).unknown().required();

var TwitterFeedbackWithMaybeAnalysisSchema = exports.TwitterFeedbackWithMaybeAnalysisSchema = TwitterFeedbackSchema.keys({
  analysis: FeedbackAnalysisSchema
}).unknown().required();

var AccountIntegrationSchema = exports.AccountIntegrationSchema = _joiBrowser2.default.object({
  status: _joiBrowser2.default.string().valid(['disconnected', 'awaitingApproval', 'connected']).default('disconnected'),
  token: _joiBrowser2.default.string().required()
}).optionalKeys('token').unknown().default();

var ZenDeskIntegrationSchema = exports.ZenDeskIntegrationSchema = AccountIntegrationSchema.keys({
  fieldId: _joiBrowser2.default.number(),
  subdomain: _joiBrowser2.default.string().allow('').default(''),
  ticketImport: _joiBrowser2.default.object({
    inProgress: _joiBrowser2.default.boolean().default(false),
    nextPage: _joiBrowser2.default.number().default(0)
  }).unknown().default()
});

var AccountSettingPostBodySchema = exports.AccountSettingPostBodySchema = _joiBrowser2.default.object({
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB')
}).unknown().required();

var WatsonClassifierSchema = exports.WatsonClassifierSchema = _joiBrowser2.default.object({
  classifier_id: _joiBrowser2.default.string().required(),
  created: _joiBrowser2.default.string().required(),
  language: _joiBrowser2.default.string().required(),
  name: _joiBrowser2.default.string().required(),
  status: _joiBrowser2.default.string().valid(['Non Existent', 'Training', 'Failed', 'Available', 'Unavailable']).required(),
  status_description: _joiBrowser2.default.string().required(),
  url: _joiBrowser2.default.string().required()
});

var AccountSettingSchema = exports.AccountSettingSchema = _joiBrowser2.default.object(_extends({}, ModelSavedFieldsSchema, {
  apiToken: _joiBrowser2.default.string().guid(),
  feedbackUsageByDate: _joiBrowser2.default.object().pattern(_YearMonthBucket.YearMonthBucketRegex, _joiBrowser2.default.number().min(0).required()).required(),
  id: _joiBrowser2.default.string().required(),
  integrations: _joiBrowser2.default.object({
    zenDesk: ZenDeskIntegrationSchema
  }).default(),
  tier: _joiBrowser2.default.string().valid(['notApproved', 'free']).default('notApproved'),
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).default(function () {
    return [];
  }, 'Do not allow undefined or null to come out of the DB'),
  watsonClassifier: WatsonClassifierSchema
})).unknown().required();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJnZXRBbmFseXplRmVlZGJhY2tTTlMiLCJnZXRBbmFseXplRmVlZGJhY2tUb3BpY05hbWUiLCJnZXRUYWJsZU5hbWVQcmVmaXgiLCJnZXREeW5hbW9EYkdsb2JhbEFybiIsIk1vZGVsU2F2ZWRGaWVsZHNTY2hlbWEiLCJhY2NvdW50SWQiLCJzdHJpbmciLCJyZXF1aXJlZCIsImNyZWF0ZWRBdCIsImlzb0RhdGUiLCJpZCIsImd1aWQiLCJkZWZhdWx0IiwidjQiLCJ1cGRhdGVkQXQiLCJTdXBwb3J0ZWRMYW5ndWFnZVNjaGVtYSIsInZhbGlkIiwiVGV4dFNwYW5TY2hlbWEiLCJvYmplY3QiLCJiZWdpbk9mZnNldCIsIm51bWJlciIsIm1pbiIsImNvbnRlbnQiLCJ1bmtub3duIiwiU2VudGltZW50U2NoZW1hIiwibmVnYXRpdmUiLCJtYXgiLCJwb3NpdGl2ZSIsIkNhdGVnb3J5U2NoZW1hIiwiY2F0ZWdvcnlOYW1lIiwiY29uZmlkZW5jZSIsIlNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VTY2hlbWEiLCJkb2N1bWVudFNlbnRpbWVudCIsImxhbmd1YWdlIiwiWmVuRGVza1VzZXJTY2hlbWEiLCJlbWFpbCIsIm5hbWUiLCJUd2l0dGVyVXNlclNjaGVtYSIsImF2YXRhclVybCIsInVyaSIsInVzZXJuYW1lIiwiRW1haWxVc2VyU2NoZW1hIiwiVXNlclNjaGVtYSIsImNvbXBpbGUiLCJGZWVkYmFja0FuYWx5c2lzU2NoZW1hIiwiY29udGVudFNlbnRpbWVudCIsImRvY3VtZW50Q2F0ZWdvcml6YXRpb24iLCJhcnJheSIsIml0ZW1zIiwiZmVlZGJhY2tJZCIsImZlZWRiYWNrVHlwZSIsImFsbG93IiwidG9wRG9jdW1lbnRDYXRlZ29yaWVzIiwidXNlciIsInVzZXJJZCIsIldhdHNvbkNsYXNzaWZ5UmVzcG9uc2VTY2hlbWEiLCJjbGFzc2VzIiwiY2xhc3NfbmFtZSIsImNsYXNzaWZpZXJfaWQiLCJ0ZXh0IiwidG9wX2NsYXNzIiwidXJsIiwiYWxsb3dSZWxhdGl2ZSIsIkVtYWlsRmVlZGJhY2tQb3N0Qm9keVNjaGVtYSIsImVtYWlsU2VudERhdGUiLCJmcm9tIiwic3ViamVjdCIsInRvIiwiRW1haWxGZWVkYmFja1NjaGVtYSIsImtleXMiLCJFbWFpbEZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNTY2hlbWEiLCJhbmFseXNpcyIsIlplbkRlc2tUaWNrZXRQb3N0Qm9keVNjaGVtYSIsImRlc2NyaXB0aW9uIiwidGlja2V0SWQiLCJ0aXRsZSIsIlplbkRlc2tUaWNrZXRTY2hlbWEiLCJaZW5EZXNrVGlja2V0V2l0aE1heWJlQW5hbHlzaXNTY2hlbWEiLCJUd2l0dGVyRmVlZGJhY2tTY2hlbWEiLCJzdGF0dXNJZCIsIlR3aXR0ZXJGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzU2NoZW1hIiwiQWNjb3VudEludGVncmF0aW9uU2NoZW1hIiwic3RhdHVzIiwidG9rZW4iLCJvcHRpb25hbEtleXMiLCJaZW5EZXNrSW50ZWdyYXRpb25TY2hlbWEiLCJmaWVsZElkIiwic3ViZG9tYWluIiwidGlja2V0SW1wb3J0IiwiaW5Qcm9ncmVzcyIsImJvb2xlYW4iLCJuZXh0UGFnZSIsIkFjY291bnRTZXR0aW5nUG9zdEJvZHlTY2hlbWEiLCJ0d2l0dGVyU2VhcmNoZXMiLCJXYXRzb25DbGFzc2lmaWVyU2NoZW1hIiwiY3JlYXRlZCIsInN0YXR1c19kZXNjcmlwdGlvbiIsIkFjY291bnRTZXR0aW5nU2NoZW1hIiwiYXBpVG9rZW4iLCJmZWVkYmFja1VzYWdlQnlEYXRlIiwicGF0dGVybiIsImludGVncmF0aW9ucyIsInplbkRlc2siLCJ0aWVyIiwid2F0c29uQ2xhc3NpZmllciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBS0E7QUFDQTs7Ozs7Ozs7aUJBUUVBLHFCOzs7Ozs7aUJBQ0FDLDJCOzs7Ozs7aUJBQ0FDLGtCOzs7Ozs7aUJBQ0FDLG9COzs7O0FBZkY7Ozs7QUFDQTs7OztBQUlBOzs7O0FBb0JBLElBQU1DLHlCQUF5QjtBQUM3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LFlBQVUscUJBQUk1RixNQUFKLEdBQWFLLElBQWIsRUFGd0I7QUFHbEN3Rix1QkFBcUIscUJBQUlqRixNQUFKLEdBQ2xCa0YsT0FEa0Isd0NBR2pCLHFCQUFJaEYsTUFBSixHQUNHQyxHQURILENBQ08sQ0FEUCxFQUVHZCxRQUZILEVBSGlCLEVBT2xCQSxRQVBrQixFQUhhO0FBV2xDRyxNQUFJLHFCQUFJSixNQUFKLEdBQWFDLFFBQWIsRUFYOEI7QUFZbEM4RixnQkFBYyxxQkFBSW5GLE1BQUosQ0FBVztBQUN2Qm9GLGFBQVNqQjtBQURjLEdBQVgsRUFFWHpFLE9BRlcsRUFab0I7QUFlbEMyRixRQUFNLHFCQUFJakcsTUFBSixHQUNIVSxLQURHLENBQ0csQ0FBQyxhQUFELEVBQWdCLE1BQWhCLENBREgsRUFFSEosT0FGRyxDQUVLLGFBRkwsQ0FmNEI7QUFrQmxDaUYsbUJBQWlCLHFCQUFJOUMsS0FBSixHQUNkQyxLQURjLENBQ1IscUJBQUkxQyxNQUFKLEVBRFEsRUFFZE0sT0FGYyxDQUVOO0FBQUEsV0FBTSxFQUFOO0FBQUEsR0FGTSxFQUVJLHNEQUZKLENBbEJpQjtBQXFCbEM0RixvQkFBa0JWO0FBckJnQixJQXVCakN2RSxPQXZCaUMsR0F3QmpDaEIsUUF4QmlDLEVBQTdCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcblxuaW1wb3J0IEpvaSBmcm9tICdqb2ktYnJvd3Nlcic7XG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkJztcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlbm1vc2hlci9lc2xpbnQtcGx1Z2luLWltcG9ydC9pc3N1ZXMvOTIxXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbmFtZWQgKi9cbmltcG9ydCB7XG4gIFllYXJNb250aEJ1Y2tldFJlZ2V4LFxuICB0eXBlIFllYXJNb250aEJ1Y2tldFR5cGUsXG59IGZyb20gJy4vWWVhck1vbnRoQnVja2V0Jztcbi8qIGVzbGludC1lbmFibGUgKi9cblxuZXhwb3J0IHtcbiAgZ2V0QW5hbHl6ZUZlZWRiYWNrU05TLFxuICBnZXRBbmFseXplRmVlZGJhY2tUb3BpY05hbWUsXG4gIGdldFRhYmxlTmFtZVByZWZpeCxcbiAgZ2V0RHluYW1vRGJHbG9iYWxBcm4sXG59IGZyb20gJy4vQXJucyc7XG5cbmV4cG9ydCB0eXBlIE1vZGVsU2F2ZWRGaWVsZHNUeXBlID0ge3xcbiAgYWNjb3VudElkOiBzdHJpbmcsXG4gIGNyZWF0ZWRBdDogc3RyaW5nLFxuICBpZDogc3RyaW5nLFxuICB1cGRhdGVkQXQ/OiBzdHJpbmcsXG58fTtcblxuY29uc3QgTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSA9IHtcbiAgYWNjb3VudElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgY3JlYXRlZEF0OiBKb2kuc3RyaW5nKClcbiAgICAuaXNvRGF0ZSgpXG4gICAgLnJlcXVpcmVkKCksXG4gIGlkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxuICB1cGRhdGVkQXQ6IEpvaS5zdHJpbmcoKS5pc29EYXRlKCksXG59O1xuXG5leHBvcnQgdHlwZSBTdXBwb3J0ZWRMYW5ndWFnZVR5cGUgPVxuICB8ICd6aCdcbiAgfCAnemgtSGFudCdcbiAgfCAnZW4nXG4gIHwgJ2ZyJ1xuICB8ICdkZSdcbiAgfCAnaXQnXG4gIHwgJ2phJ1xuICB8ICdrbydcbiAgfCAncHQnXG4gIHwgJ2VzJztcblxuZXhwb3J0IGNvbnN0IFN1cHBvcnRlZExhbmd1YWdlU2NoZW1hID0gSm9pLnN0cmluZygpLnZhbGlkKFtcbiAgJ3poJyxcbiAgJ3poLUhhbnQnLFxuICAnZW4nLFxuICAnZnInLFxuICAnZGUnLFxuICAnaXQnLFxuICAnamEnLFxuICAna28nLFxuICAncHQnLFxuICAnZXMnLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBUZXh0U3BhblNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBiZWdpbk9mZnNldDogSm9pLm51bWJlcigpXG4gICAgLm1pbigtMSlcbiAgICAucmVxdWlyZWQoKSxcbiAgY29udGVudDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFNlbnRpbWVudFR5cGUgPSB7fFxuICBuZWdhdGl2ZTogbnVtYmVyLFxuICBwb3NpdGl2ZTogbnVtYmVyLFxufH07XG5cbmV4cG9ydCBjb25zdCBTZW50aW1lbnRTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgbmVnYXRpdmU6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oMClcbiAgICAubWF4KDEpXG4gICAgLnJlcXVpcmVkKCksXG4gIHBvc2l0aXZlOiBKb2kubnVtYmVyKClcbiAgICAubWluKDApXG4gICAgLm1heCgxKVxuICAgIC5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBDYXRlZ29yeUNvbmZpZGVuY2VUeXBlID0ge1xuICBjYXRlZ29yeU5hbWU6IHN0cmluZyxcbiAgY29uZmlkZW5jZTogbnVtYmVyLFxufTtcblxuZXhwb3J0IGNvbnN0IENhdGVnb3J5U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNhdGVnb3J5TmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGNvbmZpZGVuY2U6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oMClcbiAgICAubWF4KDEpXG4gICAgLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VUeXBlID0ge3xcbiAgZG9jdW1lbnRTZW50aW1lbnQ6IFNlbnRpbWVudFR5cGUsXG4gIGxhbmd1YWdlOiBTdXBwb3J0ZWRMYW5ndWFnZVR5cGUsXG58fTtcblxuZXhwb3J0IGNvbnN0IFNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgZG9jdW1lbnRTZW50aW1lbnQ6IFNlbnRpbWVudFNjaGVtYS5yZXF1aXJlZCgpLFxuICBsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2VTY2hlbWEucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tUeXBlID0gJ2VtYWlsJyB8ICd0d2l0dGVyJyB8ICd6ZW5EZXNrJztcblxuZXhwb3J0IHR5cGUgWmVuRGVza1VzZXJUeXBlID0ge3xcbiAgZW1haWw6IHN0cmluZyxcbiAgaWQ6IG51bWJlcixcbiAgbmFtZTogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBaZW5EZXNrVXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCksXG4gIGlkOiBKb2kubnVtYmVyKClcbiAgICAubWluKDApXG4gICAgLnJlcXVpcmVkKCksXG4gIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBUd2l0dGVyVXNlclR5cGUgPSB7fFxuICBhdmF0YXJVcmw6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgdXNlcm5hbWU6IHN0cmluZyxcbnx9O1xuXG5leHBvcnQgY29uc3QgVHdpdHRlclVzZXJTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgYXZhdGFyVXJsOiBKb2kuc3RyaW5nKClcbiAgICAudXJpKClcbiAgICAucmVxdWlyZWQoKSxcbiAgaWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1c2VybmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIEVtYWlsVXNlclR5cGUgPSB7fFxuICBpZDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBFbWFpbFVzZXJTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5lbWFpbCgpXG4gICAgLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFVzZXJUeXBlID0gRW1haWxVc2VyVHlwZSB8IFR3aXR0ZXJVc2VyVHlwZSB8IFplbkRlc2tVc2VyVHlwZTtcblxuZXhwb3J0IGNvbnN0IFVzZXJTY2hlbWEgPSBKb2kuY29tcGlsZShbXG4gIFR3aXR0ZXJVc2VyU2NoZW1hLFxuICBFbWFpbFVzZXJTY2hlbWEsXG4gIFplbkRlc2tVc2VyU2NoZW1hLFxuXSk7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrU2VudGltZW50QW5kQ2F0ZWdvcml6YXRpb25UeXBlID0ge3xcbiAgY29udGVudFNlbnRpbWVudDogU2VudGltZW50VHlwZSxcbiAgZG9jdW1lbnRDYXRlZ29yaXphdGlvbjogQ2F0ZWdvcnlDb25maWRlbmNlVHlwZVtdLFxuICB0b3BEb2N1bWVudENhdGVnb3JpZXM6IEFycmF5PHN0cmluZz4sXG58fTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tBbmFseXNpc1Vuc2F2ZWRUeXBlID0ge3xcbiAgLi4uRmVlZGJhY2tTZW50aW1lbnRBbmRDYXRlZ29yaXphdGlvblR5cGUsXG4gIGFjY291bnRJZDogc3RyaW5nLFxuICBmZWVkYmFja0lkOiBzdHJpbmcsXG4gIGZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlLFxuICB1c2VyOiBVc2VyVHlwZSxcbiAgdXNlcklkOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tBbmFseXNpc1R5cGUgPSB7XG4gIC4uLkZlZWRiYWNrQW5hbHlzaXNVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgRmVlZGJhY2tBbmFseXNpc1NjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAuLi5Nb2RlbFNhdmVkRmllbGRzU2NoZW1hLFxuICBjb250ZW50U2VudGltZW50OiBTZW50aW1lbnRTY2hlbWEucmVxdWlyZWQoKSxcbiAgZG9jdW1lbnRDYXRlZ29yaXphdGlvbjogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoQ2F0ZWdvcnlTY2hlbWEpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG4gIGZlZWRiYWNrSWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5ndWlkKClcbiAgICAuZGVmYXVsdCgoKSA9PiB1dWlkLnY0KCksICd1dWlkIHY0JyksXG4gIGZlZWRiYWNrVHlwZTogSm9pLnN0cmluZygpXG4gICAgLmFsbG93KFsnZW1haWwnLCAndHdpdHRlcicsICd6ZW5EZXNrJ10pXG4gICAgLnJlcXVpcmVkKCksXG4gIHRvcERvY3VtZW50Q2F0ZWdvcmllczogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoSm9pLnN0cmluZygpKVxuICAgIC5kZWZhdWx0KCgpID0+IFtdLCAnRG8gbm90IGFsbG93IHVuZGVmaW5lZCBvciBudWxsIHRvIGNvbWUgb3V0IG9mIHRoZSBEQicpLFxuICB1c2VyOiBVc2VyU2NoZW1hLFxuICB1c2VySWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgV2F0c29uQ2xhc3NpZnlSZXNwb25zZVR5cGUgPSB7XG4gIGNsYXNzZXM6IEFycmF5PHsgY2xhc3NfbmFtZTogc3RyaW5nLCBjb25maWRlbmNlOiBudW1iZXIgfT4sXG4gIGNsYXNzaWZpZXJfaWQ6IHN0cmluZyxcbiAgdGV4dDogc3RyaW5nLFxuICB0b3BfY2xhc3M6IHN0cmluZyxcbiAgdXJsOiBzdHJpbmcsXG59O1xuXG5leHBvcnQgY29uc3QgV2F0c29uQ2xhc3NpZnlSZXNwb25zZVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBjbGFzc2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhcbiAgICAgIEpvaS5vYmplY3Qoe1xuICAgICAgICBjbGFzc19uYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgY29uZmlkZW5jZTogSm9pLm51bWJlcigpXG4gICAgICAgICAgLm1pbigwKVxuICAgICAgICAgIC5tYXgoMSlcbiAgICAgICAgICAucmVxdWlyZWQoKSxcbiAgICAgIH0pLnVua25vd24oKVxuICAgIClcbiAgICAuZGVmYXVsdCgoKSA9PiBbXSwgJ0RvIG5vdCBhbGxvdyB1bmRlZmluZWQgb3IgbnVsbCB0byBjb21lIG91dCBvZiB0aGUgREInKSxcbiAgY2xhc3NpZmllcl9pZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRleHQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB0b3BfY2xhc3M6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1cmw6IEpvaS5zdHJpbmcoKVxuICAgIC51cmkoeyBhbGxvd1JlbGF0aXZlOiB0cnVlIH0pXG4gICAgLnJlcXVpcmVkKCksXG59KTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1Bvc3RCb2R5VHlwZSA9IHt8XG4gIGNvbnRlbnQ6IHN0cmluZyxcbiAgZW1haWxTZW50RGF0ZTogc3RyaW5nLFxuICBmcm9tOiBzdHJpbmcsXG4gIHN1YmplY3Q6IHN0cmluZyxcbiAgdG86IHN0cmluZyxcbnx9O1xuXG5leHBvcnQgY29uc3QgRW1haWxGZWVkYmFja1Bvc3RCb2R5U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBlbWFpbFNlbnREYXRlOiBKb2kuc3RyaW5nKClcbiAgICAuaXNvRGF0ZSgpXG4gICAgLnJlcXVpcmVkKCksXG4gIGZyb206IEpvaS5zdHJpbmcoKVxuICAgIC5lbWFpbCgpXG4gICAgLnJlcXVpcmVkKCksXG4gIHN1YmplY3Q6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB0bzogSm9pLnN0cmluZygpXG4gICAgLmVtYWlsKClcbiAgICAucmVxdWlyZWQoKSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tVbnNhdmVkVHlwZSA9IHt8XG4gIC4uLkVtYWlsRmVlZGJhY2tQb3N0Qm9keVR5cGUsXG4gIGFjY291bnRJZDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tUeXBlID0ge1xuICAuLi5FbWFpbEZlZWRiYWNrVW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IEVtYWlsRmVlZGJhY2tTY2hlbWEgPSBFbWFpbEZlZWRiYWNrUG9zdEJvZHlTY2hlbWEua2V5cyh7XG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNTY2hlbWEsXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBFbWFpbEZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNUeXBlID0ge1xuICAuLi5FbWFpbEZlZWRiYWNrVHlwZSxcbiAgYW5hbHlzaXM6ID9GZWVkYmFja0FuYWx5c2lzVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBFbWFpbEZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNTY2hlbWEgPSBFbWFpbEZlZWRiYWNrU2NoZW1hLmtleXMoe1xuICBhbmFseXNpczogRmVlZGJhY2tBbmFseXNpc1NjaGVtYSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIFplbkRlc2tUaWNrZXRQb3N0Qm9keVR5cGUgPSB7fFxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICB0aWNrZXRJZDogbnVtYmVyLFxuICB0aXRsZTogc3RyaW5nLFxuICB1c2VyOiBaZW5EZXNrVXNlclR5cGUsXG58fTtcblxuZXhwb3J0IGNvbnN0IFplbkRlc2tUaWNrZXRQb3N0Qm9keVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBkZXNjcmlwdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRpY2tldElkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgdGl0bGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1c2VyOiBaZW5EZXNrVXNlclNjaGVtYS5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgWmVuRGVza1RpY2tldFVuc2F2ZWRUeXBlID0ge3xcbiAgLi4uWmVuRGVza1RpY2tldFBvc3RCb2R5VHlwZSxcbiAgYWNjb3VudElkOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IHR5cGUgWmVuRGVza1RpY2tldFR5cGUgPSB7fFxuICAuLi5aZW5EZXNrVGlja2V0VW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufH07XG5cbmV4cG9ydCBjb25zdCBaZW5EZXNrVGlja2V0U2NoZW1hID0gWmVuRGVza1RpY2tldFBvc3RCb2R5U2NoZW1hLmtleXMoe1xuICAuLi5Nb2RlbFNhdmVkRmllbGRzU2NoZW1hLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgWmVuRGVza1RpY2tldFdpdGhNYXliZUFuYWx5c2lzVHlwZSA9IHtcbiAgLi4uWmVuRGVza1RpY2tldFR5cGUsXG4gIGFuYWx5c2lzOiA/RmVlZGJhY2tBbmFseXNpc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgWmVuRGVza1RpY2tldFdpdGhNYXliZUFuYWx5c2lzU2NoZW1hID0gWmVuRGVza1VzZXJTY2hlbWEua2V5cyh7XG4gIGFuYWx5c2lzOiBGZWVkYmFja0FuYWx5c2lzU2NoZW1hLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgVHdpdHRlckZlZWRiYWNrVW5zYXZlZFR5cGUgPSB7fFxuICBhY2NvdW50SWQ6IHN0cmluZyxcbiAgc3RhdHVzSWQ6IHN0cmluZyxcbiAgdXNlcjogVHdpdHRlclVzZXJUeXBlLFxufH07XG5cbmV4cG9ydCB0eXBlIFR3aXR0ZXJGZWVkYmFja1R5cGUgPSB7XG4gIC4uLlR3aXR0ZXJGZWVkYmFja1Vuc2F2ZWRUeXBlLFxuICAuLi5Nb2RlbFNhdmVkRmllbGRzVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyRmVlZGJhY2tTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1NjaGVtYSxcbiAgc3RhdHVzSWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1c2VyOiBUd2l0dGVyVXNlclNjaGVtYS5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgVHdpdHRlckZlZWRiYWNrV2l0aE1heWJlQW5hbHlzaXNUeXBlID0ge1xuICAuLi5Ud2l0dGVyRmVlZGJhY2tUeXBlLFxuICBhbmFseXNpczogP0ZlZWRiYWNrQW5hbHlzaXNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IFR3aXR0ZXJGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzU2NoZW1hID0gVHdpdHRlckZlZWRiYWNrU2NoZW1hLmtleXMoXG4gIHtcbiAgICBhbmFseXNpczogRmVlZGJhY2tBbmFseXNpc1NjaGVtYSxcbiAgfVxuKVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50VGllclR5cGUgPSAnbm90QXBwcm92ZWQnIHwgJ2ZyZWUnO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50SW50ZWdyYXRpb25TdGF0dXNUeXBlID1cbiAgfCAnZGlzY29ubmVjdGVkJ1xuICB8ICdhd2FpdGluZ0FwcHJvdmFsJ1xuICB8ICdjb25uZWN0ZWQnO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50SW50ZWdyYXRpb25UeXBlID0ge3xcbiAgc3RhdHVzOiBBY2NvdW50SW50ZWdyYXRpb25TdGF0dXNUeXBlLFxuICB0b2tlbj86IHN0cmluZyxcbnx9O1xuXG5leHBvcnQgdHlwZSBaZW5EZXNrSW50ZWdyYXRpb25UeXBlID0ge1xuICAuLi5BY2NvdW50SW50ZWdyYXRpb25UeXBlLFxuICBmaWVsZElkOiA/bnVtYmVyLFxuICBzdWJkb21haW46IHN0cmluZyxcbiAgdGlja2V0SW1wb3J0OiB7XG4gICAgaW5Qcm9ncmVzczogYm9vbGVhbixcbiAgICBuZXh0UGFnZTogbnVtYmVyLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEFjY291bnRJbnRlZ3JhdGlvblNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBzdGF0dXM6IEpvaS5zdHJpbmcoKVxuICAgIC52YWxpZChbJ2Rpc2Nvbm5lY3RlZCcsICdhd2FpdGluZ0FwcHJvdmFsJywgJ2Nvbm5lY3RlZCddKVxuICAgIC5kZWZhdWx0KCdkaXNjb25uZWN0ZWQnKSxcbiAgdG9rZW46IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxufSlcbiAgLm9wdGlvbmFsS2V5cygndG9rZW4nKVxuICAudW5rbm93bigpXG4gIC5kZWZhdWx0KCk7XG5cbmV4cG9ydCBjb25zdCBaZW5EZXNrSW50ZWdyYXRpb25TY2hlbWEgPSBBY2NvdW50SW50ZWdyYXRpb25TY2hlbWEua2V5cyh7XG4gIGZpZWxkSWQ6IEpvaS5udW1iZXIoKSxcbiAgc3ViZG9tYWluOiBKb2kuc3RyaW5nKClcbiAgICAuYWxsb3coJycpXG4gICAgLmRlZmF1bHQoJycpLFxuICB0aWNrZXRJbXBvcnQ6IEpvaS5vYmplY3Qoe1xuICAgIGluUHJvZ3Jlc3M6IEpvaS5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgbmV4dFBhZ2U6IEpvaS5udW1iZXIoKS5kZWZhdWx0KDApLFxuICB9KVxuICAgIC51bmtub3duKClcbiAgICAuZGVmYXVsdCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFjY291bnRTZXR0aW5nUG9zdEJvZHlUeXBlID0ge3xcbiAgdHdpdHRlclNlYXJjaGVzOiBzdHJpbmdbXSxcbnx9O1xuXG5leHBvcnQgY29uc3QgQWNjb3VudFNldHRpbmdQb3N0Qm9keVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICB0d2l0dGVyU2VhcmNoZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKEpvaS5zdHJpbmcoKSlcbiAgICAuZGVmYXVsdCgoKSA9PiBbXSwgJ0RvIG5vdCBhbGxvdyB1bmRlZmluZWQgb3IgbnVsbCB0byBjb21lIG91dCBvZiB0aGUgREInKSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIFdhdHNvbkNsYXNzaWZpZXJUeXBlID0ge3xcbiAgY2xhc3NpZmllcl9pZDogc3RyaW5nLFxuICBjcmVhdGVkOiBzdHJpbmcsXG4gIGxhbmd1YWdlOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgc3RhdHVzOiAnTm9uIEV4aXN0ZW50JyB8ICdUcmFpbmluZycgfCAnRmFpbGVkJyB8ICdBdmFpbGFibGUnIHwgJ1VuYXZhaWxhYmxlJyxcbiAgc3RhdHVzX2Rlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIHVybDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBXYXRzb25DbGFzc2lmaWVyU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNsYXNzaWZpZXJfaWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBjcmVhdGVkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgbGFuZ3VhZ2U6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgc3RhdHVzOiBKb2kuc3RyaW5nKClcbiAgICAudmFsaWQoWydOb24gRXhpc3RlbnQnLCAnVHJhaW5pbmcnLCAnRmFpbGVkJywgJ0F2YWlsYWJsZScsICdVbmF2YWlsYWJsZSddKVxuICAgIC5yZXF1aXJlZCgpLFxuICBzdGF0dXNfZGVzY3JpcHRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1cmw6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFjY291bnRTZXR0aW5nVW5zYXZlZFR5cGUgPSB7fFxuICAuLi5BY2NvdW50U2V0dGluZ1Bvc3RCb2R5VHlwZSxcbiAgYWNjb3VudElkOiBzdHJpbmcsXG4gIGFwaVRva2VuOiA/c3RyaW5nLFxuICBmZWVkYmFja1VzYWdlQnlEYXRlOiB7XG4gICAgW2tleTogWWVhck1vbnRoQnVja2V0VHlwZV06IG51bWJlcixcbiAgfSxcbiAgaW50ZWdyYXRpb25zOiB7XG4gICAgemVuRGVzazogWmVuRGVza0ludGVncmF0aW9uVHlwZSxcbiAgfSxcbiAgdGllcjogQWNjb3VudFRpZXJUeXBlLFxuICB3YXRzb25DbGFzc2lmaWVyOiA/V2F0c29uQ2xhc3NpZmllclR5cGUsXG58fTtcblxuZXhwb3J0IHR5cGUgQWNjb3VudFNldHRpbmdUeXBlID0ge1xuICAuLi5BY2NvdW50U2V0dGluZ1Vuc2F2ZWRUeXBlLFxuICAuLi5Nb2RlbFNhdmVkRmllbGRzVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBBY2NvdW50U2V0dGluZ1NjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICAuLi5Nb2RlbFNhdmVkRmllbGRzU2NoZW1hLFxuICBhcGlUb2tlbjogSm9pLnN0cmluZygpLmd1aWQoKSxcbiAgZmVlZGJhY2tVc2FnZUJ5RGF0ZTogSm9pLm9iamVjdCgpXG4gICAgLnBhdHRlcm4oXG4gICAgICBZZWFyTW9udGhCdWNrZXRSZWdleCxcbiAgICAgIEpvaS5udW1iZXIoKVxuICAgICAgICAubWluKDApXG4gICAgICAgIC5yZXF1aXJlZCgpXG4gICAgKVxuICAgIC5yZXF1aXJlZCgpLFxuICBpZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGludGVncmF0aW9uczogSm9pLm9iamVjdCh7XG4gICAgemVuRGVzazogWmVuRGVza0ludGVncmF0aW9uU2NoZW1hLFxuICB9KS5kZWZhdWx0KCksXG4gIHRpZXI6IEpvaS5zdHJpbmcoKVxuICAgIC52YWxpZChbJ25vdEFwcHJvdmVkJywgJ2ZyZWUnXSlcbiAgICAuZGVmYXVsdCgnbm90QXBwcm92ZWQnKSxcbiAgdHdpdHRlclNlYXJjaGVzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLmRlZmF1bHQoKCkgPT4gW10sICdEbyBub3QgYWxsb3cgdW5kZWZpbmVkIG9yIG51bGwgdG8gY29tZSBvdXQgb2YgdGhlIERCJyksXG4gIHdhdHNvbkNsYXNzaWZpZXI6IFdhdHNvbkNsYXNzaWZpZXJTY2hlbWEsXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuIl19