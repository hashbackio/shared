'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountSettingSchema = exports.TwitterFeedbackSchema = exports.EmailFeedbackSchema = exports.EmailFeedbackPostBodySchema = exports.WatsonClassifyResponseSchema = exports.FeedbackAnalysisSchema = exports.SentimentAnalysisResponseSchema = exports.SentenceSchema = exports.ClassSchema = exports.SentimentSchema = exports.TextSpanSchema = exports.SupportedLanguageSchema = undefined;

var _joiBrowser = require('joi-browser');

var _joiBrowser2 = _interopRequireDefault(_joiBrowser);

var _uuid = require('uuid');

var _uuid2 = _interopRequireDefault(_uuid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SupportedLanguageSchema = exports.SupportedLanguageSchema = _joiBrowser2.default.string().valid(['zh', 'zh-Hant', 'en', 'fr', 'de', 'it', 'ja', 'ko', 'pt', 'es']);

var TextSpanSchema = exports.TextSpanSchema = _joiBrowser2.default.object({
  beginOffset: _joiBrowser2.default.number().min(-1).required(),
  content: _joiBrowser2.default.string().required()
}).unknown();

var SentimentSchema = exports.SentimentSchema = _joiBrowser2.default.object({
  magnitude: _joiBrowser2.default.number().min(0).required(),
  score: _joiBrowser2.default.number().min(-1).max(1).required()
}).unknown();

var ClassSchema = exports.ClassSchema = _joiBrowser2.default.object({
  className: _joiBrowser2.default.string().required(),
  confidence: _joiBrowser2.default.number().min(0).max(1).required()
}).unknown();

var SentenceSchema = exports.SentenceSchema = _joiBrowser2.default.object({
  sentiment: SentimentSchema.required(),
  text: TextSpanSchema.required()
}).unknown();

var SentimentAnalysisResponseSchema = exports.SentimentAnalysisResponseSchema = _joiBrowser2.default.object({
  documentSentiment: SentimentSchema.required(),
  language: SupportedLanguageSchema.required(),
  sentences: _joiBrowser2.default.array().items(SentenceSchema).required()
}).unknown();

var FeedbackAnalysisSchema = exports.FeedbackAnalysisSchema = _joiBrowser2.default.object({
  accountId: _joiBrowser2.default.string().required(),
  contentSentiment: SentimentSchema.required(),
  documentClassification: _joiBrowser2.default.array().items(ClassSchema).required(),
  feedbackId: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  feedbackType: _joiBrowser2.default.string().allow(['email', 'twitter']).required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  sentences: _joiBrowser2.default.array().items(SentenceSchema.keys({
    classification: _joiBrowser2.default.array().items(ClassSchema).required()
  }).required()).required(),
  topDocumentClasses: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).required(),
  topSentenceClasses: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).required()
}).unknown().required();

var WatsonClassifyResponseSchema = exports.WatsonClassifyResponseSchema = _joiBrowser2.default.object({
  classes: _joiBrowser2.default.array().items(_joiBrowser2.default.object({
    class_name: _joiBrowser2.default.string().required(),
    confidence: _joiBrowser2.default.number().min(0).max(1).required()
  }).unknown()).required(),
  classifier_id: _joiBrowser2.default.string().required(),
  text: _joiBrowser2.default.string().required(),
  top_class: _joiBrowser2.default.string().required(),
  url: _joiBrowser2.default.string().uri({ allowRelative: true }).required()
});

var EmailFeedbackPostBodySchema = exports.EmailFeedbackPostBodySchema = _joiBrowser2.default.object({
  content: _joiBrowser2.default.string().required(),
  emailSentDate: _joiBrowser2.default.string().isoDate().required(),
  from: _joiBrowser2.default.string().email().required(),
  subject: _joiBrowser2.default.string().required(),
  to: _joiBrowser2.default.string().email().required()
}).unknown().required();

var EmailFeedbackSchema = exports.EmailFeedbackSchema = EmailFeedbackPostBodySchema.keys({
  accountId: _joiBrowser2.default.string().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4')
});

var TwitterFeedbackSchema = exports.TwitterFeedbackSchema = _joiBrowser2.default.object({
  accountId: _joiBrowser2.default.string().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  statusId: _joiBrowser2.default.string().required()
}).unknown().required();

var AccountSettingSchema = exports.AccountSettingSchema = _joiBrowser2.default.object({
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string().required()).required()
}).unknown().required();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJTdXBwb3J0ZWRMYW5ndWFnZVNjaGVtYSIsInN0cmluZyIsInZhbGlkIiwiVGV4dFNwYW5TY2hlbWEiLCJvYmplY3QiLCJiZWdpbk9mZnNldCIsIm51bWJlciIsIm1pbiIsInJlcXVpcmVkIiwiY29udGVudCIsInVua25vd24iLCJTZW50aW1lbnRTY2hlbWEiLCJtYWduaXR1ZGUiLCJzY29yZSIsIm1heCIsIkNsYXNzU2NoZW1hIiwiY2xhc3NOYW1lIiwiY29uZmlkZW5jZSIsIlNlbnRlbmNlU2NoZW1hIiwic2VudGltZW50IiwidGV4dCIsIlNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VTY2hlbWEiLCJkb2N1bWVudFNlbnRpbWVudCIsImxhbmd1YWdlIiwic2VudGVuY2VzIiwiYXJyYXkiLCJpdGVtcyIsIkZlZWRiYWNrQW5hbHlzaXNTY2hlbWEiLCJhY2NvdW50SWQiLCJjb250ZW50U2VudGltZW50IiwiZG9jdW1lbnRDbGFzc2lmaWNhdGlvbiIsImZlZWRiYWNrSWQiLCJndWlkIiwiZGVmYXVsdCIsInY0IiwiZmVlZGJhY2tUeXBlIiwiYWxsb3ciLCJpZCIsImtleXMiLCJjbGFzc2lmaWNhdGlvbiIsInRvcERvY3VtZW50Q2xhc3NlcyIsInRvcFNlbnRlbmNlQ2xhc3NlcyIsIldhdHNvbkNsYXNzaWZ5UmVzcG9uc2VTY2hlbWEiLCJjbGFzc2VzIiwiY2xhc3NfbmFtZSIsImNsYXNzaWZpZXJfaWQiLCJ0b3BfY2xhc3MiLCJ1cmwiLCJ1cmkiLCJhbGxvd1JlbGF0aXZlIiwiRW1haWxGZWVkYmFja1Bvc3RCb2R5U2NoZW1hIiwiZW1haWxTZW50RGF0ZSIsImlzb0RhdGUiLCJmcm9tIiwiZW1haWwiLCJzdWJqZWN0IiwidG8iLCJFbWFpbEZlZWRiYWNrU2NoZW1hIiwiVHdpdHRlckZlZWRiYWNrU2NoZW1hIiwic3RhdHVzSWQiLCJBY2NvdW50U2V0dGluZ1NjaGVtYSIsInR3aXR0ZXJTZWFyY2hlcyJdLCJt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TUFBSixHQUNEcUQsS0FEQyxHQUVEOUMsUUFGQztBQVRnRCxDQUFYLEVBYXhDRSxPQWJ3QyxHQWN4Q0YsUUFkd0MsRUFBcEM7O0FBMEJBLElBQU1pRCxvREFBc0JQLDRCQUE0QlosSUFBNUIsQ0FBaUM7QUFDbEVWLGFBQVcscUJBQUkzQixNQUFKLEdBQWFPLFFBQWIsRUFEdUQ7QUFFbEU2QixNQUFJLHFCQUFJcEMsTUFBSixHQUNEK0IsSUFEQyxHQUVEQyxPQUZDLENBRU87QUFBQSxXQUFNLGVBQUtDLEVBQUwsRUFBTjtBQUFBLEdBRlAsRUFFd0IsU0FGeEI7QUFGOEQsQ0FBakMsQ0FBNUI7O0FBc0JBLElBQU13Qix3REFBd0IscUJBQUl0RCxNQUFKLENBQVc7QUFDOUN3QixhQUFXLHFCQUFJM0IsTUFBSixHQUFhTyxRQUFiLEVBRG1DO0FBRTlDNkIsTUFBSSxxQkFBSXBDLE1BQUosR0FDRCtCLElBREMsR0FFREMsT0FGQyxDQUVPO0FBQUEsV0FBTSxlQUFLQyxFQUFMLEVBQU47QUFBQSxHQUZQLEVBRXdCLFNBRnhCLENBRjBDO0FBSzlDeUIsWUFBVSxxQkFBSTFELE1BQUosR0FBYU8sUUFBYjtBQUxvQyxDQUFYLEVBT2xDRSxPQVBrQyxHQVFsQ0YsUUFSa0MsRUFBOUI7O0FBbUJBLElBQU1vRCxzREFBdUIscUJBQUl4RCxNQUFKLENBQVc7QUFDN0N5RCxtQkFBaUIscUJBQUlwQyxLQUFKLEdBQ2RDLEtBRGMsQ0FDUixxQkFBSXpCLE1BQUosR0FBYU8sUUFBYixFQURRLEVBRWRBLFFBRmM7QUFENEIsQ0FBWCxFQUtqQ0UsT0FMaUMsR0FNakNGLFFBTmlDLEVBQTdCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcblxuaW1wb3J0IEpvaSBmcm9tICdqb2ktYnJvd3Nlcic7XG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkJztcblxuZXhwb3J0IHR5cGUgTW9kZWxTYXZlZEZpZWxkc1R5cGUgPSB7fFxuICBjcmVhdGVkQXQ6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgdXBkYXRlZEF0Pzogc3RyaW5nLFxufH07XG5cbmV4cG9ydCB0eXBlIFN1cHBvcnRlZExhbmd1YWdlVHlwZSA9XG4gIHwgJ3poJ1xuICB8ICd6aC1IYW50J1xuICB8ICdlbidcbiAgfCAnZnInXG4gIHwgJ2RlJ1xuICB8ICdpdCdcbiAgfCAnamEnXG4gIHwgJ2tvJ1xuICB8ICdwdCdcbiAgfCAnZXMnO1xuXG5leHBvcnQgY29uc3QgU3VwcG9ydGVkTGFuZ3VhZ2VTY2hlbWEgPSBKb2kuc3RyaW5nKCkudmFsaWQoW1xuICAnemgnLFxuICAnemgtSGFudCcsXG4gICdlbicsXG4gICdmcicsXG4gICdkZScsXG4gICdpdCcsXG4gICdqYScsXG4gICdrbycsXG4gICdwdCcsXG4gICdlcycsXG5dKTtcblxudHlwZSBUZXh0U3BhblR5cGUgPSB7XG4gIGJlZ2luT2Zmc2V0OiBudW1iZXIsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbn07XG5cbmV4cG9ydCBjb25zdCBUZXh0U3BhblNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBiZWdpbk9mZnNldDogSm9pLm51bWJlcigpXG4gICAgLm1pbigtMSlcbiAgICAucmVxdWlyZWQoKSxcbiAgY29udGVudDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFNlbnRpbWVudFR5cGUgPSB7XG4gIG1hZ25pdHVkZTogbnVtYmVyLFxuICBzY29yZTogbnVtYmVyLFxufTtcblxuZXhwb3J0IGNvbnN0IFNlbnRpbWVudFNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBtYWduaXR1ZGU6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oMClcbiAgICAucmVxdWlyZWQoKSxcbiAgc2NvcmU6IEpvaS5udW1iZXIoKVxuICAgIC5taW4oLTEpXG4gICAgLm1heCgxKVxuICAgIC5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBDbGFzc1R5cGUgPSB7XG4gIGNsYXNzTmFtZTogc3RyaW5nLFxuICBjb25maWRlbmNlOiBudW1iZXIsXG59O1xuXG5leHBvcnQgY29uc3QgQ2xhc3NTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgY2xhc3NOYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgY29uZmlkZW5jZTogSm9pLm51bWJlcigpXG4gICAgLm1pbigwKVxuICAgIC5tYXgoMSlcbiAgICAucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgU2VudGVuY2VUeXBlID0ge1xuICBzZW50aW1lbnQ6IFNlbnRpbWVudFR5cGUsXG4gIHRleHQ6IFRleHRTcGFuVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBTZW50ZW5jZVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBzZW50aW1lbnQ6IFNlbnRpbWVudFNjaGVtYS5yZXF1aXJlZCgpLFxuICB0ZXh0OiBUZXh0U3BhblNjaGVtYS5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBTZW50aW1lbnRBbmFseXNpc1Jlc3BvbnNlVHlwZSA9IHt8XG4gIGRvY3VtZW50U2VudGltZW50OiBTZW50aW1lbnRUeXBlLFxuICBsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2VUeXBlLFxuICBzZW50ZW5jZXM6IFNlbnRlbmNlVHlwZVtdLFxufH07XG5cbmV4cG9ydCBjb25zdCBTZW50aW1lbnRBbmFseXNpc1Jlc3BvbnNlU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGRvY3VtZW50U2VudGltZW50OiBTZW50aW1lbnRTY2hlbWEucmVxdWlyZWQoKSxcbiAgbGFuZ3VhZ2U6IFN1cHBvcnRlZExhbmd1YWdlU2NoZW1hLnJlcXVpcmVkKCksXG4gIHNlbnRlbmNlczogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoU2VudGVuY2VTY2hlbWEpXG4gICAgLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrVHlwZSA9ICdlbWFpbCcgfCAndHdpdHRlcic7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrU2VudGltZW50QW5kQ2xhc3NpZmljYXRpb25UeXBlID0ge3xcbiAgY29udGVudFNlbnRpbWVudDogU2VudGltZW50VHlwZSxcbiAgZG9jdW1lbnRDbGFzc2lmaWNhdGlvbjogQ2xhc3NUeXBlW10sXG4gIHNlbnRlbmNlczogQXJyYXk8e1xuICAgIGNsYXNzaWZpY2F0aW9uOiBDbGFzc1R5cGUsXG4gICAgLi4uU2VudGVuY2VUeXBlLFxuICB9PixcbiAgdG9wRG9jdW1lbnRDbGFzc2VzOiBBcnJheTxzdHJpbmc+LFxuICB0b3BTZW50ZW5jZUNsYXNzZXM6IEFycmF5PHN0cmluZz4sXG58fTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tBbmFseXNpc1Vuc2F2ZWRUeXBlID0ge3xcbiAgLi4uRmVlZGJhY2tTZW50aW1lbnRBbmRDbGFzc2lmaWNhdGlvblR5cGUsXG4gIGFjY291bnRJZDogc3RyaW5nLFxuICBmZWVkYmFja0lkOiBzdHJpbmcsXG4gIGZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlLFxufH07XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrQW5hbHlzaXNUeXBlID0ge1xuICAuLi5GZWVkYmFja0FuYWx5c2lzVW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IEZlZWRiYWNrQW5hbHlzaXNTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgYWNjb3VudElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgY29udGVudFNlbnRpbWVudDogU2VudGltZW50U2NoZW1hLnJlcXVpcmVkKCksXG4gIGRvY3VtZW50Q2xhc3NpZmljYXRpb246IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKENsYXNzU2NoZW1hKVxuICAgIC5yZXF1aXJlZCgpLFxuICBmZWVkYmFja0lkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxuICBmZWVkYmFja1R5cGU6IEpvaS5zdHJpbmcoKVxuICAgIC5hbGxvdyhbJ2VtYWlsJywgJ3R3aXR0ZXInXSlcbiAgICAucmVxdWlyZWQoKSxcbiAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5ndWlkKClcbiAgICAuZGVmYXVsdCgoKSA9PiB1dWlkLnY0KCksICd1dWlkIHY0JyksXG4gIHNlbnRlbmNlczogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoXG4gICAgICBTZW50ZW5jZVNjaGVtYS5rZXlzKHtcbiAgICAgICAgY2xhc3NpZmljYXRpb246IEpvaS5hcnJheSgpXG4gICAgICAgICAgLml0ZW1zKENsYXNzU2NoZW1hKVxuICAgICAgICAgIC5yZXF1aXJlZCgpLFxuICAgICAgfSkucmVxdWlyZWQoKVxuICAgIClcbiAgICAucmVxdWlyZWQoKSxcbiAgdG9wRG9jdW1lbnRDbGFzc2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLnJlcXVpcmVkKCksXG4gIHRvcFNlbnRlbmNlQ2xhc3NlczogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoSm9pLnN0cmluZygpKVxuICAgIC5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgV2F0c29uQ2xhc3NpZnlSZXNwb25zZVR5cGUgPSB7XG4gIGNsYXNzZXM6IEFycmF5PHsgY2xhc3NfbmFtZTogc3RyaW5nLCBjb25maWRlbmNlOiBudW1iZXIgfT4sXG4gIGNsYXNzaWZpZXJfaWQ6IHN0cmluZyxcbiAgdGV4dDogc3RyaW5nLFxuICB0b3BfY2xhc3M6IHN0cmluZyxcbiAgdXJsOiBzdHJpbmcsXG59O1xuXG5leHBvcnQgY29uc3QgV2F0c29uQ2xhc3NpZnlSZXNwb25zZVNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBjbGFzc2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhcbiAgICAgIEpvaS5vYmplY3Qoe1xuICAgICAgICBjbGFzc19uYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgY29uZmlkZW5jZTogSm9pLm51bWJlcigpXG4gICAgICAgICAgLm1pbigwKVxuICAgICAgICAgIC5tYXgoMSlcbiAgICAgICAgICAucmVxdWlyZWQoKSxcbiAgICAgIH0pLnVua25vd24oKVxuICAgIClcbiAgICAucmVxdWlyZWQoKSxcbiAgY2xhc3NpZmllcl9pZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRleHQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB0b3BfY2xhc3M6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB1cmw6IEpvaS5zdHJpbmcoKVxuICAgIC51cmkoeyBhbGxvd1JlbGF0aXZlOiB0cnVlIH0pXG4gICAgLnJlcXVpcmVkKCksXG59KTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1Bvc3RCb2R5VHlwZSA9IHt8XG4gIGNvbnRlbnQ6IHN0cmluZyxcbiAgZW1haWxTZW50RGF0ZTogc3RyaW5nLFxuICBmcm9tOiBzdHJpbmcsXG4gIHN1YmplY3Q6IHN0cmluZyxcbiAgdG86IHN0cmluZyxcbnx9O1xuXG5leHBvcnQgY29uc3QgRW1haWxGZWVkYmFja1Bvc3RCb2R5U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBlbWFpbFNlbnREYXRlOiBKb2kuc3RyaW5nKClcbiAgICAuaXNvRGF0ZSgpXG4gICAgLnJlcXVpcmVkKCksXG4gIGZyb206IEpvaS5zdHJpbmcoKVxuICAgIC5lbWFpbCgpXG4gICAgLnJlcXVpcmVkKCksXG4gIHN1YmplY3Q6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICB0bzogSm9pLnN0cmluZygpXG4gICAgLmVtYWlsKClcbiAgICAucmVxdWlyZWQoKSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tVbnNhdmVkVHlwZSA9IHt8XG4gIC4uLkVtYWlsRmVlZGJhY2tQb3N0Qm9keVR5cGUsXG4gIGFjY291bnRJZDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tUeXBlID0ge1xuICAuLi5FbWFpbEZlZWRiYWNrVW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IEVtYWlsRmVlZGJhY2tTY2hlbWEgPSBFbWFpbEZlZWRiYWNrUG9zdEJvZHlTY2hlbWEua2V5cyh7XG4gIGFjY291bnRJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGlkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEVtYWlsRmVlZGJhY2tXaXRoQW5hbHlzaXNUeXBlID0ge1xuICAuLi5FbWFpbEZlZWRiYWNrVHlwZSxcbiAgYW5hbHlzaXM6IEZlZWRiYWNrQW5hbHlzaXNUeXBlLFxufTtcblxuZXhwb3J0IHR5cGUgVHdpdHRlckZlZWRiYWNrVW5zYXZlZFR5cGUgPSB7fFxuICBhY2NvdW50SWQ6IHN0cmluZyxcbiAgc3RhdHVzSWQ6IHN0cmluZyxcbnx9O1xuXG5leHBvcnQgdHlwZSBUd2l0dGVyRmVlZGJhY2tUeXBlID0ge1xuICAuLi5Ud2l0dGVyRmVlZGJhY2tVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgVHdpdHRlckZlZWRiYWNrU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGFjY291bnRJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGlkOiBKb2kuc3RyaW5nKClcbiAgICAuZ3VpZCgpXG4gICAgLmRlZmF1bHQoKCkgPT4gdXVpZC52NCgpLCAndXVpZCB2NCcpLFxuICBzdGF0dXNJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBUd2l0dGVyRmVlZGJhY2tXaXRoQW5hbHlzaXNUeXBlID0ge1xuICAuLi5Ud2l0dGVyRmVlZGJhY2tUeXBlLFxuICBhbmFseXNpczogRmVlZGJhY2tBbmFseXNpc1R5cGUsXG59O1xuXG5leHBvcnQgdHlwZSBBY2NvdW50U2V0dGluZ1R5cGUgPSB7fFxuICB0d2l0dGVyU2VhcmNoZXM6IHN0cmluZ1tdLFxufH07XG5cbmV4cG9ydCBjb25zdCBBY2NvdW50U2V0dGluZ1NjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICB0d2l0dGVyU2VhcmNoZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpKVxuICAgIC5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcbiJdfQ==