'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountSettingPostBodySchema = exports.TwitterFeedbackSchema = exports.EmailFeedbackSchema = exports.EmailFeedbackPostBodySchema = exports.WatsonClassifyResponseSchema = exports.FeedbackAnalysisSchema = exports.SentimentAnalysisResponseSchema = exports.SentenceSchema = exports.ClassSchema = exports.SentimentSchema = exports.TextSpanSchema = exports.SupportedLanguageSchema = undefined;

var _joiBrowser = require('joi-browser');

var _joiBrowser2 = _interopRequireDefault(_joiBrowser);

var _uuid = require('uuid');

var _uuid2 = _interopRequireDefault(_uuid);

require('./YeahMonthBucket');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-enable */

var SupportedLanguageSchema = exports.SupportedLanguageSchema = _joiBrowser2.default.string().valid(['zh', 'zh-Hant', 'en', 'fr', 'de', 'it', 'ja', 'ko', 'pt', 'es']);

// https://github.com/benmosher/eslint-plugin-import/issues/921
/* eslint-disable import/named */


var TextSpanSchema = exports.TextSpanSchema = _joiBrowser2.default.object({
  beginOffset: _joiBrowser2.default.number().min(-1).required(),
  content: _joiBrowser2.default.string().required()
}).unknown();

var SentimentSchema = exports.SentimentSchema = _joiBrowser2.default.object({
  magnitude: _joiBrowser2.default.number().min(0).required(),
  score: _joiBrowser2.default.number().min(-1).max(1).required()
}).unknown();

var ClassSchema = exports.ClassSchema = _joiBrowser2.default.object({
  className: _joiBrowser2.default.string().required(),
  confidence: _joiBrowser2.default.number().min(0).max(1).required()
}).unknown();

var SentenceSchema = exports.SentenceSchema = _joiBrowser2.default.object({
  sentiment: SentimentSchema.required(),
  text: TextSpanSchema.required()
}).unknown();

var SentimentAnalysisResponseSchema = exports.SentimentAnalysisResponseSchema = _joiBrowser2.default.object({
  documentSentiment: SentimentSchema.required(),
  language: SupportedLanguageSchema.required(),
  sentences: _joiBrowser2.default.array().items(SentenceSchema).required()
}).unknown();

var FeedbackAnalysisSchema = exports.FeedbackAnalysisSchema = _joiBrowser2.default.object({
  accountId: _joiBrowser2.default.string().required(),
  contentSentiment: SentimentSchema.required(),
  documentClassification: _joiBrowser2.default.array().items(ClassSchema).required(),
  feedbackId: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  feedbackType: _joiBrowser2.default.string().allow(['email', 'twitter']).required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  sentences: _joiBrowser2.default.array().items(SentenceSchema.keys({
    classification: _joiBrowser2.default.array().items(ClassSchema).required()
  }).required()).required(),
  topDocumentClasses: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).required(),
  topSentenceClasses: _joiBrowser2.default.array().items(_joiBrowser2.default.string()).required()
}).unknown().required();

var WatsonClassifyResponseSchema = exports.WatsonClassifyResponseSchema = _joiBrowser2.default.object({
  classes: _joiBrowser2.default.array().items(_joiBrowser2.default.object({
    class_name: _joiBrowser2.default.string().required(),
    confidence: _joiBrowser2.default.number().min(0).max(1).required()
  }).unknown()).required(),
  classifier_id: _joiBrowser2.default.string().required(),
  text: _joiBrowser2.default.string().required(),
  top_class: _joiBrowser2.default.string().required(),
  url: _joiBrowser2.default.string().uri({ allowRelative: true }).required()
});

var EmailFeedbackPostBodySchema = exports.EmailFeedbackPostBodySchema = _joiBrowser2.default.object({
  content: _joiBrowser2.default.string().required(),
  emailSentDate: _joiBrowser2.default.string().isoDate().required(),
  from: _joiBrowser2.default.string().email().required(),
  subject: _joiBrowser2.default.string().required(),
  to: _joiBrowser2.default.string().email().required()
}).unknown().required();

var EmailFeedbackSchema = exports.EmailFeedbackSchema = EmailFeedbackPostBodySchema.keys({
  accountId: _joiBrowser2.default.string().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4')
});

var TwitterFeedbackSchema = exports.TwitterFeedbackSchema = _joiBrowser2.default.object({
  accountId: _joiBrowser2.default.string().required(),
  id: _joiBrowser2.default.string().guid().default(function () {
    return _uuid2.default.v4();
  }, 'uuid v4'),
  statusId: _joiBrowser2.default.string().required()
}).unknown().required();

// currently only 1 tier
var AccountSettingPostBodySchema = exports.AccountSettingPostBodySchema = _joiBrowser2.default.object({
  twitterSearches: _joiBrowser2.default.array().items(_joiBrowser2.default.string().required()).required()
}).unknown().required();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJTdXBwb3J0ZWRMYW5ndWFnZVNjaGVtYSIsInN0cmluZyIsInZhbGlkIiwiVGV4dFNwYW5TY2hlbWEiLCJvYmplY3QiLCJiZWdpbk9mZnNldCIsIm51bWJlciIsIm1pbiIsInJlcXVpcmVkIiwiY29udGVudCIsInVua25vd24iLCJTZW50aW1lbnRTY2hlbWEiLCJtYWduaXR1ZGUiLCJzY29yZSIsIm1heCIsIkNsYXNzU2NoZW1hIiwiY2xhc3NOYW1lIiwiY29uZmlkZW5jZSIsIlNlbnRlbmNlU2NoZW1hIiwic2VudGltZW50IiwidGV4dCIsIlNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VTY2hlbWEiLCJkb2N1bWVudFNlbnRpbWVudCIsImxhbmd1YWdlIiwic2VudGVuY2VzIiwiYXJyYXkiLCJpdGVtcyIsIkZlZWRiYWNrQW5hbHlzaXNTY2hlbWEiLCJhY2NvdW50SWQiLCJjb250ZW50U2VudGltZW50IiwiZG9jdW1lbnRDbGFzc2lmaWNhdGlvbiIsImZlZWRiYWNrSWQiLCJndWlkIiwiZGVmYXVsdCIsInY0IiwiZmVlZGJhY2tUeXBlIiwiYWxsb3ciLCJpZCIsImtleXMiLCJjbGFzc2lmaWNhdGlvbiIsInRvcERvY3VtZW50Q2xhc3NlcyIsInRvcFNlbnRlbmNlQ2xhc3NlcyIsIldhdHNvbkNsYXNzaWZ5UmVzcG9uc2VTY2hlbWEiLCJjbGFzc2VzIiwiY2xhc3NfbmFtZSIsImNsYXNzaWZpZXJfaWQiLCJ0b3BfY2xhc3MiLCJ1cmwiLCJ1cmkiLCJhbGxvd1JlbGF0aXZlIiwiRW1haWxGZWVkYmFja1Bvc3RCb2R5U2NoZW1hIiwiZW1haWxTZW50RGF0ZSIsImlzb0RhdGUiLCJmcm9tIiwiZW1haWwiLCJzdWJqZWN0IiwidG8iLCJFbWFpbEZlZWRiYWNrU2NoZW1hIiwiVHdpdHRlckZlZWRiYWNrU2NoZW1hIiwic3RhdHVzSWQiLCJBY2NvdW50U2V0dGluZ1Bvc3RCb2R5U2NoZW1hIiwidHdpdHRlclNlYXJj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LFFBQWIsRUFSMkM7QUFTcERnRCxNQUFJLHFCQUFJdkQsTUFBSixHQUNEcUQsS0FEQyxHQUVEOUMsUUFGQztBQVRnRCxDQUFYLEVBYXhDRSxPQWJ3QyxHQWN4Q0YsUUFkd0MsRUFBcEM7O0FBMEJBLElBQU1pRCxvREFBc0JQLDRCQUE0QlosSUFBNUIsQ0FBaUM7QUFDbEVWLGFBQVcscUJBQUkzQixNQUFKLEdBQWFPLFFBQWIsRUFEdUQ7QUFFbEU2QixNQUFJLHFCQUFJcEMsTUFBSixHQUNEK0IsSUFEQyxHQUVEQyxPQUZDLENBRU87QUFBQSxXQUFNLGVBQUtDLEVBQUwsRUFBTjtBQUFBLEdBRlAsRUFFd0IsU0FGeEI7QUFGOEQsQ0FBakMsQ0FBNUI7O0FBc0JBLElBQU13Qix3REFBd0IscUJBQUl0RCxNQUFKLENBQVc7QUFDOUN3QixhQUFXLHFCQUFJM0IsTUFBSixHQUFhTyxRQUFiLEVBRG1DO0FBRTlDNkIsTUFBSSxxQkFBSXBDLE1BQUosR0FDRCtCLElBREMsR0FFREMsT0FGQyxDQUVPO0FBQUEsV0FBTSxlQUFLQyxFQUFMLEVBQU47QUFBQSxHQUZQLEVBRXdCLFNBRnhCLENBRjBDO0FBSzlDeUIsWUFBVSxxQkFBSTFELE1BQUosR0FBYU8sUUFBYjtBQUxvQyxDQUFYLEVBT2xDRSxPQVBrQyxHQVFsQ0YsUUFSa0MsRUFBOUI7O0FBZVA7QUFxQk8sSUFBTW9ELHNFQUErQixxQkFBSXhELE1BQUosQ0FBVztBQUNyRHlELG1CQUFpQixxQkFBSXBDLEtBQUosR0FDZEMsS0FEYyxDQUNSLHFCQUFJekIsTUFBSixHQUFhTyxRQUFiLEVBRFEsRUFFZEEsUUFGYztBQURvQyxDQUFYLEVBS3pDRSxPQUx5QyxHQU16Q0YsUUFOeUMsRUFBckMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuXG5pbXBvcnQgSm9pIGZyb20gJ2pvaS1icm93c2VyJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQnO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVubW9zaGVyL2VzbGludC1wbHVnaW4taW1wb3J0L2lzc3Vlcy85MjFcbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uYW1lZCAqL1xuaW1wb3J0IHsgdHlwZSBZZWFyTW9udGhCdWNrZXRUeXBlIH0gZnJvbSAnLi9ZZWFoTW9udGhCdWNrZXQnO1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5leHBvcnQgdHlwZSBNb2RlbFNhdmVkRmllbGRzVHlwZSA9IHt8XG4gIGNyZWF0ZWRBdDogc3RyaW5nLFxuICBpZDogc3RyaW5nLFxuICB1cGRhdGVkQXQ/OiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IHR5cGUgU3VwcG9ydGVkTGFuZ3VhZ2VUeXBlID1cbiAgfCAnemgnXG4gIHwgJ3poLUhhbnQnXG4gIHwgJ2VuJ1xuICB8ICdmcidcbiAgfCAnZGUnXG4gIHwgJ2l0J1xuICB8ICdqYSdcbiAgfCAna28nXG4gIHwgJ3B0J1xuICB8ICdlcyc7XG5cbmV4cG9ydCBjb25zdCBTdXBwb3J0ZWRMYW5ndWFnZVNjaGVtYSA9IEpvaS5zdHJpbmcoKS52YWxpZChbXG4gICd6aCcsXG4gICd6aC1IYW50JyxcbiAgJ2VuJyxcbiAgJ2ZyJyxcbiAgJ2RlJyxcbiAgJ2l0JyxcbiAgJ2phJyxcbiAgJ2tvJyxcbiAgJ3B0JyxcbiAgJ2VzJyxcbl0pO1xuXG50eXBlIFRleHRTcGFuVHlwZSA9IHtcbiAgYmVnaW5PZmZzZXQ6IG51bWJlcixcbiAgY29udGVudDogc3RyaW5nLFxufTtcblxuZXhwb3J0IGNvbnN0IFRleHRTcGFuU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGJlZ2luT2Zmc2V0OiBKb2kubnVtYmVyKClcbiAgICAubWluKC0xKVxuICAgIC5yZXF1aXJlZCgpLFxuICBjb250ZW50OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgU2VudGltZW50VHlwZSA9IHtcbiAgbWFnbml0dWRlOiBudW1iZXIsXG4gIHNjb3JlOiBudW1iZXIsXG59O1xuXG5leHBvcnQgY29uc3QgU2VudGltZW50U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIG1hZ25pdHVkZTogSm9pLm51bWJlcigpXG4gICAgLm1pbigwKVxuICAgIC5yZXF1aXJlZCgpLFxuICBzY29yZTogSm9pLm51bWJlcigpXG4gICAgLm1pbigtMSlcbiAgICAubWF4KDEpXG4gICAgLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIENsYXNzVHlwZSA9IHtcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIGNvbmZpZGVuY2U6IG51bWJlcixcbn07XG5cbmV4cG9ydCBjb25zdCBDbGFzc1NjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBjbGFzc05hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBjb25maWRlbmNlOiBKb2kubnVtYmVyKClcbiAgICAubWluKDApXG4gICAgLm1heCgxKVxuICAgIC5yZXF1aXJlZCgpLFxufSkudW5rbm93bigpO1xuXG5leHBvcnQgdHlwZSBTZW50ZW5jZVR5cGUgPSB7XG4gIHNlbnRpbWVudDogU2VudGltZW50VHlwZSxcbiAgdGV4dDogVGV4dFNwYW5UeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IFNlbnRlbmNlU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIHNlbnRpbWVudDogU2VudGltZW50U2NoZW1hLnJlcXVpcmVkKCksXG4gIHRleHQ6IFRleHRTcGFuU2NoZW1hLnJlcXVpcmVkKCksXG59KS51bmtub3duKCk7XG5cbmV4cG9ydCB0eXBlIFNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VUeXBlID0ge3xcbiAgZG9jdW1lbnRTZW50aW1lbnQ6IFNlbnRpbWVudFR5cGUsXG4gIGxhbmd1YWdlOiBTdXBwb3J0ZWRMYW5ndWFnZVR5cGUsXG4gIHNlbnRlbmNlczogU2VudGVuY2VUeXBlW10sXG58fTtcblxuZXhwb3J0IGNvbnN0IFNlbnRpbWVudEFuYWx5c2lzUmVzcG9uc2VTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgZG9jdW1lbnRTZW50aW1lbnQ6IFNlbnRpbWVudFNjaGVtYS5yZXF1aXJlZCgpLFxuICBsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2VTY2hlbWEucmVxdWlyZWQoKSxcbiAgc2VudGVuY2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhTZW50ZW5jZVNjaGVtYSlcbiAgICAucmVxdWlyZWQoKSxcbn0pLnVua25vd24oKTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tUeXBlID0gJ2VtYWlsJyB8ICd0d2l0dGVyJztcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tTZW50aW1lbnRBbmRDbGFzc2lmaWNhdGlvblR5cGUgPSB7fFxuICBjb250ZW50U2VudGltZW50OiBTZW50aW1lbnRUeXBlLFxuICBkb2N1bWVudENsYXNzaWZpY2F0aW9uOiBDbGFzc1R5cGVbXSxcbiAgc2VudGVuY2VzOiBBcnJheTx7XG4gICAgY2xhc3NpZmljYXRpb246IENsYXNzVHlwZSxcbiAgICAuLi5TZW50ZW5jZVR5cGUsXG4gIH0+LFxuICB0b3BEb2N1bWVudENsYXNzZXM6IEFycmF5PHN0cmluZz4sXG4gIHRvcFNlbnRlbmNlQ2xhc3NlczogQXJyYXk8c3RyaW5nPixcbnx9O1xuXG5leHBvcnQgdHlwZSBGZWVkYmFja0FuYWx5c2lzVW5zYXZlZFR5cGUgPSB7fFxuICAuLi5GZWVkYmFja1NlbnRpbWVudEFuZENsYXNzaWZpY2F0aW9uVHlwZSxcbiAgYWNjb3VudElkOiBzdHJpbmcsXG4gIGZlZWRiYWNrSWQ6IHN0cmluZyxcbiAgZmVlZGJhY2tUeXBlOiBGZWVkYmFja1R5cGUsXG58fTtcblxuZXhwb3J0IHR5cGUgRmVlZGJhY2tBbmFseXNpc1R5cGUgPSB7XG4gIC4uLkZlZWRiYWNrQW5hbHlzaXNVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgRmVlZGJhY2tBbmFseXNpc1NjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBhY2NvdW50SWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBjb250ZW50U2VudGltZW50OiBTZW50aW1lbnRTY2hlbWEucmVxdWlyZWQoKSxcbiAgZG9jdW1lbnRDbGFzc2lmaWNhdGlvbjogSm9pLmFycmF5KClcbiAgICAuaXRlbXMoQ2xhc3NTY2hlbWEpXG4gICAgLnJlcXVpcmVkKCksXG4gIGZlZWRiYWNrSWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5ndWlkKClcbiAgICAuZGVmYXVsdCgoKSA9PiB1dWlkLnY0KCksICd1dWlkIHY0JyksXG4gIGZlZWRiYWNrVHlwZTogSm9pLnN0cmluZygpXG4gICAgLmFsbG93KFsnZW1haWwnLCAndHdpdHRlciddKVxuICAgIC5yZXF1aXJlZCgpLFxuICBpZDogSm9pLnN0cmluZygpXG4gICAgLmd1aWQoKVxuICAgIC5kZWZhdWx0KCgpID0+IHV1aWQudjQoKSwgJ3V1aWQgdjQnKSxcbiAgc2VudGVuY2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhcbiAgICAgIFNlbnRlbmNlU2NoZW1hLmtleXMoe1xuICAgICAgICBjbGFzc2lmaWNhdGlvbjogSm9pLmFycmF5KClcbiAgICAgICAgICAuaXRlbXMoQ2xhc3NTY2hlbWEpXG4gICAgICAgICAgLnJlcXVpcmVkKCksXG4gICAgICB9KS5yZXF1aXJlZCgpXG4gICAgKVxuICAgIC5yZXF1aXJlZCgpLFxuICB0b3BEb2N1bWVudENsYXNzZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKEpvaS5zdHJpbmcoKSlcbiAgICAucmVxdWlyZWQoKSxcbiAgdG9wU2VudGVuY2VDbGFzc2VzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkpXG4gICAgLnJlcXVpcmVkKCksXG59KVxuICAudW5rbm93bigpXG4gIC5yZXF1aXJlZCgpO1xuXG5leHBvcnQgdHlwZSBXYXRzb25DbGFzc2lmeVJlc3BvbnNlVHlwZSA9IHtcbiAgY2xhc3NlczogQXJyYXk8eyBjbGFzc19uYW1lOiBzdHJpbmcsIGNvbmZpZGVuY2U6IG51bWJlciB9PixcbiAgY2xhc3NpZmllcl9pZDogc3RyaW5nLFxuICB0ZXh0OiBzdHJpbmcsXG4gIHRvcF9jbGFzczogc3RyaW5nLFxuICB1cmw6IHN0cmluZyxcbn07XG5cbmV4cG9ydCBjb25zdCBXYXRzb25DbGFzc2lmeVJlc3BvbnNlU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGNsYXNzZXM6IEpvaS5hcnJheSgpXG4gICAgLml0ZW1zKFxuICAgICAgSm9pLm9iamVjdCh7XG4gICAgICAgIGNsYXNzX25hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjb25maWRlbmNlOiBKb2kubnVtYmVyKClcbiAgICAgICAgICAubWluKDApXG4gICAgICAgICAgLm1heCgxKVxuICAgICAgICAgIC5yZXF1aXJlZCgpLFxuICAgICAgfSkudW5rbm93bigpXG4gICAgKVxuICAgIC5yZXF1aXJlZCgpLFxuICBjbGFzc2lmaWVyX2lkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgdGV4dDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRvcF9jbGFzczogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHVybDogSm9pLnN0cmluZygpXG4gICAgLnVyaSh7IGFsbG93UmVsYXRpdmU6IHRydWUgfSlcbiAgICAucmVxdWlyZWQoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBFbWFpbEZlZWRiYWNrUG9zdEJvZHlUeXBlID0ge3xcbiAgY29udGVudDogc3RyaW5nLFxuICBlbWFpbFNlbnREYXRlOiBzdHJpbmcsXG4gIGZyb206IHN0cmluZyxcbiAgc3ViamVjdDogc3RyaW5nLFxuICB0bzogc3RyaW5nLFxufH07XG5cbmV4cG9ydCBjb25zdCBFbWFpbEZlZWRiYWNrUG9zdEJvZHlTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgY29udGVudDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGVtYWlsU2VudERhdGU6IEpvaS5zdHJpbmcoKVxuICAgIC5pc29EYXRlKClcbiAgICAucmVxdWlyZWQoKSxcbiAgZnJvbTogSm9pLnN0cmluZygpXG4gICAgLmVtYWlsKClcbiAgICAucmVxdWlyZWQoKSxcbiAgc3ViamVjdDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIHRvOiBKb2kuc3RyaW5nKClcbiAgICAuZW1haWwoKVxuICAgIC5yZXF1aXJlZCgpLFxufSlcbiAgLnVua25vd24oKVxuICAucmVxdWlyZWQoKTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1Vuc2F2ZWRUeXBlID0ge3xcbiAgLi4uRW1haWxGZWVkYmFja1Bvc3RCb2R5VHlwZSxcbiAgYWNjb3VudElkOiBzdHJpbmcsXG58fTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1R5cGUgPSB7XG4gIC4uLkVtYWlsRmVlZGJhY2tVbnNhdmVkVHlwZSxcbiAgLi4uTW9kZWxTYXZlZEZpZWxkc1R5cGUsXG59O1xuXG5leHBvcnQgY29uc3QgRW1haWxGZWVkYmFja1NjaGVtYSA9IEVtYWlsRmVlZGJhY2tQb3N0Qm9keVNjaGVtYS5rZXlzKHtcbiAgYWNjb3VudElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5ndWlkKClcbiAgICAuZGVmYXVsdCgoKSA9PiB1dWlkLnY0KCksICd1dWlkIHY0JyksXG59KTtcblxuZXhwb3J0IHR5cGUgRW1haWxGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzVHlwZSA9IHtcbiAgLi4uRW1haWxGZWVkYmFja1R5cGUsXG4gIGFuYWx5c2lzOiA/RmVlZGJhY2tBbmFseXNpc1R5cGUsXG59O1xuXG5leHBvcnQgdHlwZSBUd2l0dGVyRmVlZGJhY2tVbnNhdmVkVHlwZSA9IHt8XG4gIGFjY291bnRJZDogc3RyaW5nLFxuICBzdGF0dXNJZDogc3RyaW5nLFxufH07XG5cbmV4cG9ydCB0eXBlIFR3aXR0ZXJGZWVkYmFja1R5cGUgPSB7XG4gIC4uLlR3aXR0ZXJGZWVkYmFja1Vuc2F2ZWRUeXBlLFxuICAuLi5Nb2RlbFNhdmVkRmllbGRzVHlwZSxcbn07XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyRmVlZGJhY2tTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgYWNjb3VudElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgaWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5ndWlkKClcbiAgICAuZGVmYXVsdCgoKSA9PiB1dWlkLnY0KCksICd1dWlkIHY0JyksXG4gIHN0YXR1c0lkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG5cbmV4cG9ydCB0eXBlIFR3aXR0ZXJGZWVkYmFja1dpdGhNYXliZUFuYWx5c2lzVHlwZSA9IHtcbiAgLi4uVHdpdHRlckZlZWRiYWNrVHlwZSxcbiAgYW5hbHlzaXM6ID9GZWVkYmFja0FuYWx5c2lzVHlwZSxcbn07XG5cbi8vIGN1cnJlbnRseSBvbmx5IDEgdGllclxuZXhwb3J0IHR5cGUgQWNjb3VudFRpZXJUeXBlID0gJ2ZyZWUnO1xuXG5leHBvcnQgdHlwZSBBY2NvdW50U2V0dGluZ1Bvc3RCb2R5VHlwZSA9IHt8XG4gIHR3aXR0ZXJTZWFyY2hlczogc3RyaW5nW10sXG58fTtcblxuZXhwb3J0IHR5cGUgQWNjb3VudFNldHRpbmdVbnNhdmVkVHlwZSA9IHt8XG4gIC4uLkFjY291bnRTZXR0aW5nUG9zdEJvZHlUeXBlLFxuICBhY2NvdW50SWQ6IHN0cmluZyxcbiAgZmVlZGJhY2tVc2FnZUJ5RGF0ZToge1xuICAgIFtrZXk6IFllYXJNb250aEJ1Y2tldFR5cGVdOiBudW1iZXIsXG4gIH0sXG4gIHRpZXI6IEFjY291bnRUaWVyVHlwZSxcbnx9O1xuXG5leHBvcnQgdHlwZSBBY2NvdW50U2V0dGluZ1R5cGUgPSB7XG4gIC4uLkFjY291bnRTZXR0aW5nVW5zYXZlZFR5cGUsXG4gIC4uLk1vZGVsU2F2ZWRGaWVsZHNUeXBlLFxufTtcblxuZXhwb3J0IGNvbnN0IEFjY291bnRTZXR0aW5nUG9zdEJvZHlTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgdHdpdHRlclNlYXJjaGVzOiBKb2kuYXJyYXkoKVxuICAgIC5pdGVtcyhKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSlcbiAgICAucmVxdWlyZWQoKSxcbn0pXG4gIC51bmtub3duKClcbiAgLnJlcXVpcmVkKCk7XG4iXX0=